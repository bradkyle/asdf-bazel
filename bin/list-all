#!/usr/bin/env bash

# redsymbol.net/articles/unofficial-bash-strict-mode/
set -o nounset -o pipefail -o errexit
IFS=$'\n\t'

versions_list=(
  $(curl -s -0 https://api.github.com/repos/bazelbuild/bazel/releases\
  | grep tag_name \
  | cut -d : -f 2 \
  | tr -d '"' \
  | tr -d , \
  | sort \
  | tr '\n' ' '
  )
)

versions=""

# Concatenate all the versions together separated by spaces
for version in "${versions_list[@]}"
do
  versions="${versions} ${version}"
done

# Print out the versions
echo $versions | xargs
